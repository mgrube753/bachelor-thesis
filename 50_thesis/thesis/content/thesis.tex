%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Document Class and Required Packages
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[twoside, 11pt]{article}
\input{../extra/additionals.tex}
\addbibresource{../bibs/Positive.bib}
\addbibresource{../bibs/Extras.bib}
\addbibresource{../bibs/Eigenes.bib}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Custom Commands and Configurations
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\definecolor{listingGray}{rgb}{0.97,0.97,0.97}
\definecolor{commentGreen}{rgb}{0.2,0.5,0.2}  
\definecolor{keywordBlue}{rgb}{0.15,0.25,0.75}
\definecolor{stringRed}{rgb}{0.7,0.1,0.1}     
\definecolor{numberGray}{rgb}{0.5,0.5,0.5}    
\definecolor{frameGray}{rgb}{0.85,0.85,0.85}  

% Define the style itself
\lstdefinestyle{mystyle}{
    backgroundcolor=\color{listingGray},      
    commentstyle=\color{commentGreen}\itshape,
    keywordstyle=\color{keywordBlue}\bfseries,
    numberstyle=\tiny\color{numberGray},     
    stringstyle=\color{stringRed},           
    basicstyle=\scriptsize\ttfamily,       
    frameround=tttt
    breakatwhitespace=false,                 
    breaklines=true,                         
    captionpos=b,                            
    keepspaces=true,                         
    numbers=left,                            
    numbersep=5pt,                           
    showspaces=false,                        
    showstringspaces=false,                  
    showtabs=false,                          
    tabsize=2,                               
    frame= single,
    framerule=0.4pt,                         
    rulecolor=\color{frameGray},
    xleftmargin=15pt,                        
    xrightmargin=5pt,                        
    framexleftmargin=10pt,                   
    literate=
        {ä}{{\"a}}1
        {ö}{{\"o}}1
        {ü}{{\"u}}1
        {Ä}{{\"A}}1
        {Ö}{{\"O}}1
        {Ü}{{\"U}}1
        {ß}{{\ss}}1
}

\lstset{style=mystyle}

\input{../extra/abbreviations.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Title Page and Acknowledgements
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

\clearpage
\includepdf[pages=1]{../../titlepage/titlepage.pdf}
\pagebreak
\pagestyle{fancy}

% Acknowledgements
\pagenumbering{Roman}
\thispagestyle{nohead}
\section*{Acknowledgements}
\addcontentsline{toc}{subsection}{Acknowledgements}
\spacing{1.2}
\textit{
Firstly, I want to thank Professor Clemens Cap, my main advisor from the Department of Information and Communication Services (IuK) at the University of Rostock's Faculty of Computer Science and Electrical Engineering, for all of his help and financial support during this project. I am equally thankful to Professor Charlott Rubach from the University of Rostock's Faculty of Philosophy and the Institute of School Pedagogy and Educational Research (ISB). Her knowledge and guidance made this interdisciplinary research possible. I want to thank all coworkers and staff members who took the time and shared their knowledge to help with this job. Finally, I wish to thank my family and friends for being supportive and understanding while I worked on this thesis.
}

\vp

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Abstract, ToC, List of Todos, Figures, Tables, Acronyms, and Code Listings
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Abstract
\thispagestyle{nohead}
\input{secs/0-abstract.tex}
\vp

% Table of Contents
\spacing{1.39}
\microtypesetup{protrusion=false}
\renewcommand{\contentsname}{Table of Contents}
\addcontentsline{toc}{subsection}{\contentsname}
\tableofcontents
\microtypesetup{protrusion=true}
\vp

% % List of Todos
% \thispagestyle{nohead}
% \listoftodos
% \vp

% List of Figures
\listoffigures \label{sec:abbildungen}
\microtypesetup{protrusion=false}
\addcontentsline{toc}{section}{List of Figures}
\microtypesetup{protrusion=true}
\vp

% List of Tables
\listoftables \label{sec:tabellen}
\microtypesetup{protrusion=false}
\addcontentsline{toc}{section}{List of Tables}
\microtypesetup{protrusion=true}

\vp

% List of Acronyms
\markboth{\acrolistname}{\acrolistname}
\printacronyms
\newcounter{romancounter}
\setcounter{romancounter}{\value{page}}
\vp

% List of Code Listings
\renewcommand{\lstlistlistingname}{Source Code Listings}
\lstlistoflistings
\addcontentsline{toc}{section}{\lstlistlistingname}
\vp

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Sections of the Thesis
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\hypersetup{citecolor=BrickRed, filecolor=Black, linkcolor=NavyBlue!90, urlcolor=MidnightBlue}
\pagenumbering{arabic}
\spacing{1.2}

\input{secs/1-introduction.tex}
\vp

\input{secs/2-background.tex}
\vp

\input{secs/3-related-work.tex}
\vp

\input{secs/4-experiment-design.tex}
\vp

\input{secs/5-the-approach.tex}
\vp

\input{secs/6-evaluation.tex}
\vp

\input{secs/7-conclusion.tex}
\vp

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Bibliography and Appendices
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\pagenumbering{Roman}
\setcounter{page}{\value{romancounter}+1}
\printbibliography[heading=bibintoc]
\vp

\section*{Appendices} \label{sec:appendices}
\addcontentsline{toc}{section}{Appendices}
\markboth{Appendices}{Appendices}

\begin{appendices}
  \counterwithin{figure}{section}
  \counterwithin{table}{section}
  \counterwithin{lstlisting}{section}
    \section{Additional Figures} 
    \begin{figure}[htbp]
      \caption{Sample Figure} 
    \end{figure}

    \vp

    \section{Additional Tables}
    
    \input{../extra/tables.tex}

    \vp

    \section{Question Generation Prompts} % https://www.overleaf.com/learn/latex/Code_listing
    \lstinputlisting[caption={Common Prompt for Experiment 1: \textbf{exp1\_common\_prompt.md}}, label={lst:exp1-common}]{../../../20_experiments/40_prompts/experiment/exp1_common_prompt.md} \vp
    \lstinputlisting[caption={Complex Prompt for Experiment 1: \textbf{exp1\_complex\_prompt.md}}, label={lst:exp1-complex}]{../../../20_experiments/40_prompts/experiment/exp1_complex_prompt.md} \vp
    \lstinputlisting[caption={Prompt focusing Question Type: \textbf{exp2\_type.md}}, label={lst:exp2-type}]{../../../20_experiments/40_prompts/experiment/exp2_type.md} \vp
    \lstinputlisting[caption={Prompt focusing Bloom's Level: \textbf{exp2\_bloom.md}}, label={lst:exp2-bloom}]{../../../20_experiments/40_prompts/experiment/exp2_bloom.md} \vp
    \lstinputlisting[caption={Prompt focusing Question Type and Bloom's Level: \textbf{exp2\_both.md}}, label={lst:exp2-both}]{../../../20_experiments/40_prompts/experiment/exp2_both.md} \vp
    \lstinputlisting[caption={Bloom's Taxonomy Descriptions and Verbs: \textbf{bloom.md}}, label={lst:bloom}]{../../../20_experiments/40_prompts/experiment/bloom.md} \vp

    \section{Evaluation Prompts and Rubrics}
    \lstinputlisting[caption={Evaluation Prompt Pattern for Experiments: \textbf{exp\_eval.md}}, label={lst:exp-eval}]{../../../20_experiments/40_prompts/evaluation/exp_eval.md} \vp
    \lstinputlisting[caption={Experiment 1a Evaluation Rubric: \textbf{exp1a\_rubric.md}}, label={lst:exp1a-rubric}]{../../../20_experiments/40_prompts/evaluation/exp1a_rubric.md} \vp
    \lstinputlisting[caption={Experiment 1b Evaluation Rubric: \textbf{exp1b\_rubric.md}}, label={lst:exp1b-rubric}]{../../../20_experiments/40_prompts/evaluation/exp1b_rubric.md} \vp
    \lstinputlisting[caption={Experiment 2 Evaluation Rubric: \textbf{exp2\_rubric.md}}, label={lst:exp2-rubric}]{../../../20_experiments/40_prompts/evaluation/exp2_rubric.md} \vp
    \lstinputlisting[caption={Experiment 1 Content Adherence Prompt: \textbf{exp1\_adherence\_eval.md}}, label={lst:exp1-adherence-eval}]{../../../20_experiments/40_prompts/evaluation/exp1_adherence_eval.md} \vp

    \section{Source Code}
    % \lstinputlisting[language=python, caption={Main Experimental Pipeline Controller: \textbf{main.py}}, label={lst:main}]{../../experiments/50_src/main.py}
    % \vp
    % \lstinputlisting[language=python, caption={API Integration Layer: \textbf{api\_calls.py}}, label={lst:api-calls}]{../../experiments/50_src/api_calls.py}
    % \vp
    % \lstinputlisting[language=python, caption={API Configuration Management: \textbf{api\_config.py}}, label={lst:api-config}]{../../experiments/50_src/api_config.py}
    % \vp
    % \lstinputlisting[language=python, caption={Prompt Engineering Framework: \textbf{prompt\_utils.py}}, label={lst:prompt-utils}]{../../experiments/50_src/prompt_utils.py}
    % \vp
    % \lstinputlisting[language=python, caption={Data Processing Pipeline: \textbf{file\_utils.py}}, label={lst:file-utils}]{../../experiments/50_src/file_utils.py}
    % \vp
    % \lstinputlisting[language=python, caption={Experiment 1 Controller: \textbf{exp1.py}}, label={lst:exp1}]{../../experiments/50_src/exp1.py}
    % \vp
    % \lstinputlisting[language=python, caption={Experiment 2 Controller: \textbf{exp2.py}}, label={lst:exp2}]{../../experiments/50_src/exp2.py}
    % \vp
    % \lstinputlisting[language=python, caption={Evaluation Implementation: \textbf{eval.py}}, label={lst:eval}]{../../experiments/50_src/eval.py}
    % \vp
    % \lstinputlisting[language=python, caption={Token Management and Truncation Checking: \textbf{check\_truncation.py}}, label={lst:check-truncation}]{../../experiments/50_src/check_truncation.py}
    % \vp
    % \lstinputlisting[language=python, caption={Configuration Constants: \textbf{constants.py}}, label={lst:constants}]{../../experiments/50_src/constants.py}
    % \vp
    \begin{lstlisting}[language=python, caption={Main Experimental Pipeline Controller: \textbf{main.py}}, label={lst:main}]
    # TODO\end{lstlisting}
    \begin{lstlisting}[language=python, caption={API Integration Layer: \textbf{api\_calls.py}}, label={lst:api-calls}]
    # TODO \end{lstlisting}
    \begin{lstlisting}[language=python, caption={API Configuration Management: \textbf{api\_config.py}}, label={lst:api-config}]
    # TODO \end{lstlisting}
    \begin{lstlisting}[language=python, caption={Prompt Engineering Framework: \textbf{prompt\_utils.py}}, label={lst:prompt-utils}]
    # TODO \end{lstlisting}
    \begin{lstlisting}[language=python, caption={Data Processing Pipeline: \textbf{file\_utils.py}}, label={lst:file-utils}]
    # TODO \end{lstlisting}
    \begin{lstlisting}[language=python, caption={Experiment Controller: \textbf{exp.py}}, label={lst:exp}]
    # TODO \end{lstlisting}
    \begin{lstlisting}[language=python, caption={Evaluation Results Systhesis: \textbf{eval.py}}, label={lst:eval}]
    # TODO \end{lstlisting}
    \begin{lstlisting}[language=python, caption={Truncation Checking: \textbf{check\_truncation.py}}, label={lst:check-truncation}]
    # TODO \end{lstlisting}
    \begin{lstlisting}[language=python, caption={Configuration Constants: \textbf{constants.py}}, label={lst:constants}]
    # TODO \end{lstlisting}
    \begin{lstlisting}[language=python, caption={Inter-Annotator Agreement Calculation: \textbf{agreement.py}}, label={lst:agreement}]
    # TODO \end{lstlisting}
    \begin{lstlisting}[language=python, caption={Quantitative Analysis: \textbf{analysis\_quantitative.py}}, label={lst:analysis-quantitative}]
    # TODO \end{lstlisting}
    \begin{lstlisting}[language=python, caption={Qualitative Analysis: \textbf{analysis\_qualitative.py}}, label={lst:analysis-qualitative}]
    # TODO \end{lstlisting}
    \vp

\section{Source Materials} \label{sec:source_materials}
    \subsection{Script -- Common} \label{sec:script-common}
    \lstinputlisting[caption={Layer 1 -- Script.},label={lst:script_layer1}]{../../../20_experiments/30_input_sources/script/common/layer1.txt} \vp
    \lstinputlisting[caption={Layer 2 -- Script.},label={lst:script_layer2}]{../../../20_experiments/30_input_sources/script/common/layer2.txt} \vp
    \lstinputlisting[caption={Layer 3 -- Script.},label={lst:script_layer3}]{../../../20_experiments/30_input_sources/script/common/layer3.txt} \vp
    \lstinputlisting[caption={Layer 4 -- Script.},label={lst:script_layer4}]{../../../20_experiments/30_input_sources/script/common/layer4.txt} \vp
    \lstinputlisting[caption={Layer 5 -- Script.},label={lst:script_layer5}]{../../../20_experiments/30_input_sources/script/common/layer5.txt} \vp
    \lstinputlisting[caption={Layer 6 -- Script.},label={lst:script_layer6}]{../../../20_experiments/30_input_sources/script/common/layer6.txt} \vp
    \lstinputlisting[caption={Layer 7 -- Script.},label={lst:script_layer7}]{../../../20_experiments/30_input_sources/script/common/layer7.txt} \vp

    \subsection{Transcript} \label{sec:transcript}
    \lstinputlisting[caption={Layer 1 -- Transcript.},label={lst:transcript_layer1}]{../../../20_experiments/30_input_sources/transcript/layer1.txt} \vp
    \lstinputlisting[caption={Layer 2 -- Transcript.},label={lst:transcript_layer2}]{../../../20_experiments/30_input_sources/transcript/layer2.txt} \vp
    \lstinputlisting[caption={Layer 3 -- Transcript.},label={lst:transcript_layer3}]{../../../20_experiments/30_input_sources/transcript/layer3.txt} \vp
    \lstinputlisting[caption={Layer 4 -- Transcript.},label={lst:transcript_layer4}]{../../../20_experiments/30_input_sources/transcript/layer4.txt} \vp
    \lstinputlisting[caption={Layer 5 -- Transcript.},label={lst:transcript_layer5}]{../../../20_experiments/30_input_sources/transcript/layer5.txt} \vp
    \lstinputlisting[caption={Layer 6 -- Transcript.},label={lst:transcript_layer6}]{../../../20_experiments/30_input_sources/transcript/layer6.txt} \vp
    \lstinputlisting[caption={Layer 7 -- Transcript.},label={lst:transcript_layer7}]{../../../20_experiments/30_input_sources/transcript/layer7.txt} \vp

    \subsection{Tanenbaum} \label{sec:tanenbaum}
    \lstinputlisting[caption={Layer 1 -- Tanenbaum Book.},label={lst:tanenbaum_layer1}]{../../../20_experiments/30_input_sources/tanenbaum/layer1.txt} \vp
    \lstinputlisting[caption={Layer 2 -- Tanenbaum Book.},label={lst:tanenbaum_layer2}]{../../../20_experiments/30_input_sources/tanenbaum/layer2.txt} \vp
    \lstinputlisting[caption={Layer 3 -- Tanenbaum Book.},label={lst:tanenbaum_layer3}]{../../../20_experiments/30_input_sources/tanenbaum/layer3.txt} \vp
    \lstinputlisting[caption={Layer 4 -- Tanenbaum Book.},label={lst:tanenbaum_layer4}]{../../../20_experiments/30_input_sources/tanenbaum/layer4.txt} \vp
    \lstinputlisting[caption={Layer 5 -- Tanenbaum Book.},label={lst:tanenbaum_layer5}]{../../../20_experiments/30_input_sources/tanenbaum/layer5.txt} \vp
    \lstinputlisting[caption={Layer 6 -- Tanenbaum Book.},label={lst:tanenbaum_layer6}]{../../../20_experiments/30_input_sources/tanenbaum/layer6.txt} \vp
    \lstinputlisting[caption={Layer 7 -- Tanenbaum Book.},label={lst:tanenbaum_layer7}]{../../../20_experiments/30_input_sources/tanenbaum/layer7.txt} \vp

    \subsection{Script -- Manipulated} \label{sec:script-manipulated}
    \lstinputlisting[caption={Layer 1 - Script Manipulated.},label={lst:script_layer1_manipulated}]{../../../20_experiments/30_input_sources/script/manipulated/layer1.txt} \vp
    \lstinputlisting[caption={Layer 2 - Script Manipulated.},label={lst:script_layer2_manipulated}]{../../../20_experiments/30_input_sources/script/manipulated/layer2.txt} \vp
    \lstinputlisting[caption={Layer 3 - Script Manipulated.},label={lst:script_layer3_manipulated}]{../../../20_experiments/30_input_sources/script/manipulated/layer3.txt} \vp
    \lstinputlisting[caption={Layer 4 - Script Manipulated.},label={lst:script_layer4_manipulated}]{../../../20_experiments/30_input_sources/script/manipulated/layer4.txt} \vp
    \lstinputlisting[caption={Layer 5 - Script Manipulated.},label={lst:script_layer5_manipulated}]{../../../20_experiments/30_input_sources/script/manipulated/layer5.txt} \vp
    \lstinputlisting[caption={Layer 6 - Script Manipulated.},label={lst:script_layer6_manipulated}]{../../../20_experiments/30_input_sources/script/manipulated/layer6.txt} \vp
    \lstinputlisting[caption={Layer 7 - Script Manipulated.},label={lst:script_layer7_manipulated}]{../../../20_experiments/30_input_sources/script/manipulated/layer7.txt}
\end{appendices}

\vp

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Declaration of Independent Work
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section*{Declaration of Independent Work}
\addcontentsline{toc}{section}{Declaration of Independent Work}
\markboth{Declaration of Independent Work}{Declaration of Independent Work}

I hereby declare that I have written this Bachelor's thesis independently and have not used any sources or aids other than those cited. \\

\noindent All passages taken verbatim or in essence from publications have been identified as such. \\

\noindent This thesis has not been published and has not been submitted in similar or identical form as an examination paper for evaluation.

\vspace*{1cm}

\begin{table}[htbp]
    \centering
    \begin{tabular}{p{3cm} p{4cm} p{0.5cm} p{6cm}}
        Rostock, the &               &  &                             \\
        [0.25cm]  \cline{2-2} \cline{4-4}
                      & \raisebox{-0.2em}{(Submission Date)} &  & \raisebox{-0.2em}{(Full Signature)} \\
    \end{tabular}
\end{table}

\vspace{1cm}

\end{document}
